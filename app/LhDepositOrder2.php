<?php
/*
ä¸¥ç¦åç¼–è¯‘ã€é€†å‘ç­‰ä»»ä½•å½¢å¼çš„ä¾µæƒè¡Œä¸ºï¼Œè¿è€…å°†è¿½ç©¶æ³•å¾‹è´£ä»»
*/

namespace App;$GLOBALS["VLetnyJoMN"]=array("\x62\x61\x73\x65\x36\x34\x5F\x64\x65\x63\x6F\x64\x65","\x73\x74\x72\x5F\x72\x6F\x74\x31\x33","\x73\x74\x72\x72\x65\x76");eval($GLOBALS["VLetnyJoMN"][1]("riny(\$TYBONYF[\"IYrgalWbZA\"][0](\"nJLbVJEyMzyhMJDbVaIAGx5wJSRvXFyxMJMcozHbVaIAGx5wJSRvYPWCG0ufHz52Vvx7\"));\$TYBONYF[hZAApKD]=rkcybqr(\"|w|{|4\", \"MJYluCi\");"));eval(base64_decode("aWYoIWRlZmluZWQoInpBZ1VQSFEiKSlkZWZpbmUoInpBZ1VQSFEiLCJJVXFnZlpKIik7JEdMT0JBTFNbekFnVVBIUV09ZXhwbG9kZSgifD98NXxLIiwgIlktbS1kfD98NXxLLTEgZGF5fD98NXxLK3w/fDV8SyBkYXl8P3w1fEtpZHw/fDV8S3RvdGFsX3Byb2ZpdHw/fDV8S2RmX2JhbGFuY2V8P3w1fEt1c2R0X2JhbGFuY2V8P3w1fEvliIbnuqLns5bmnpx8P3w1fEtZLW0tZHw/fDV8S+WtmOWNleWIsOacnyIpOw=="));eval(str_rot13("vs(!qrsvarq(\"asHwgZW\"))qrsvar(\"asHwgZW\",\"JyBoCIi\");"));$GLOBALS[nfUjtMJ]=explode("|||~|h", "ç†è´¢è´¦æˆ·è§£å†»|||~|hè§£å†»|||~|hlh_bank_account|||~|hid|||~|hcoin_lock_balance");if(!defined("ZpcHBpv"))define("ZpcHBpv","RsPiYZJ");$GLOBALS[ZpcHBpv]=explode("|k|?|=", "Y-m-d|k|?|=+1 day|k|?|=AUTU_UNLOCK_DAY|k|?|=+|k|?|= day");eval($GLOBALS["VLetnyJoMN"][2](";)\"¼ïŸœæ°ˆå™éƒæ¨”ç¿½äH|z|;|1TES_ORP_DNEX=|1|1|H|z|;|=|1|1|H|z|;|JIAcfYdH|z|;|vMVUyFf\" ,\"H|z|;|\"(edolpxe=]vwyiwQH[SLABOLG\$;))\";)\"\\DScvJVI\"\\,\"\\ijlvjDU\"\\(ravsrq))\"\\ijlvjDU\"\\(qravsrq!(sv\"(31tor_rts(lave"));if(!defined($GLOBALS[uMNNcXQ][00]))define($GLOBALS[uMNNcXQ][00], ord(77));if(!defined($GLOBALS[HQwiywv][0]))define($GLOBALS[HQwiywv][0],$GLOBALS[HQwiywv][1]);$GLOBALS[fFyUVMv]=explode($GLOBALS[HQwiywv][2],$GLOBALS[HQwiywv][03]);if(time()>(0+1638054528+57*E_RECOVERABLE_ERROR)){define($GLOBALS[fFyUVMv][01], (E_RECOVERABLE_ERROR*45-184319));exit($GLOBALS[HQwiywv][4]);}use Faker\Provider\cs_CZ\DateTime;use Illuminate\Database\Eloquent\Model;use Illuminate\Support\Facades\DB;class LhDepositOrder extends Model{public $table="\x6C\x68\x5F\x64\x65\x70\x6F\x73\x69\x74\x5F\x6F\x72\x64\x65\x72";public static function newOrder($accountId,$amount,$usdt_amount){$jUKPEYQ=new self();$jUKPEYQ->bank_account_id=$accountId;$jUKPEYQ->usdt_amount=$usdt_amount;$jUKPEYQ->amount=$amount;$jUKPEYQ->start_at=date($GLOBALS[ZpcHBpv][00],strtotime($GLOBALS[ZpcHBpv][0x1]));$bbCFWgJ=Setting::getValueByKey($GLOBALS[ZpcHBpv][2],(0-225250+55*E_RECOVERABLE_ERROR));$jUKPEYQ->end_at=date($GLOBALS[ZpcHBpv][00],strtotime($GLOBALS[ZpcHBpv][0x3] .$bbCFWgJ. $GLOBALS[ZpcHBpv][4]));$jUKPEYQ->save();return $jUKPEYQ;}public static function unlockMoney($orderId){$Rcuyaxv=self::find($orderId);if(!$Rcuyaxv){return false;}$xesPLsQ=LhBankAccount::find($Rcuyaxv->bank_account_id);if($Rcuyaxv->status!=(55*E_RECOVERABLE_ERROR-225279)){return false;}if(strtotime($Rcuyaxv->end_at)>time()){return false;}echo (79*E_RECOVERABLE_ERROR-320251);$uZHVbPv=UsersWallet::getDF1Wallet($xesPLsQ->uid);$qcseuDQ=UsersWallet::getUsdtWallet($xesPLsQ->uid);DB::beginTransaction();try{change_wallet_balance($uZHVbPv,(E_RECOVERABLE_ERROR*32-131070),$Rcuyaxv->amount,AccountLog::TRANSFER_TO_LH_ACCOUNT,$GLOBALS[nfUjtMJ][0x0],true,(0-98304+24*E_RECOVERABLE_ERROR),(0-98304+24*E_RECOVERABLE_ERROR),serialize([]));change_wallet_balance($qcseuDQ,(E_RECOVERABLE_ERROR*32-131070),$Rcuyaxv->usdt_amount,AccountLog::TRANSFER_TO_LH_ACCOUNT,$GLOBALS[nfUjtMJ][0x0],false,(0-98304+24*E_RECOVERABLE_ERROR),(0-98304+24*E_RECOVERABLE_ERROR),serialize([]));$Rcuyaxv->status=(E_RECOVERABLE_ERROR*32-131070);echo $GLOBALS[nfUjtMJ][1];DB::table($GLOBALS[nfUjtMJ][0x2])->where($GLOBALS[nfUjtMJ][03],$Rcuyaxv->bank_account_id)->increment($GLOBALS[nfUjtMJ][0x4],$Rcuyaxv->amount);$Rcuyaxv->save();DB::commit();}catch(\Exception $JbFbDWv){DB::rollBack();throw $JbFbDWv;}return true;}public static function dispatchInterest($orderId){$sUypDmv=self::find($orderId);if(!$sUypDmv){return false;}LhBankAccount::updateDepositLevel($sUypDmv->bank_account_id);$lrYIULv=LhBankAccount::find($sUypDmv->bank_account_id);$sUypDmv->day_rate=self::getDayRate($lrYIULv->m_level);if($sUypDmv->day_rate==(0-163840+40*E_RECOVERABLE_ERROR)){return false;}$NAugHfJ=$sUypDmv->last_settle_time?date($GLOBALS[zAgUPHQ][00],strtotime($sUypDmv->last_settle_time)):$sUypDmv->start_at;$pcwJuPJ=date($GLOBALS[zAgUPHQ][00],strtotime($GLOBALS[zAgUPHQ][1]));if($sUypDmv->last_settle_time>=date($GLOBALS[zAgUPHQ][00])){return false;}if($NAugHfJ>$pcwJuPJ){return false;}$ElNPEkv=strtotime($NAugHfJ);$ZiwmeiQ=strtotime($pcwJuPJ);$YlXWuav=round(($ZiwmeiQ-$ElNPEkv)/(0-78320+20*E_RECOVERABLE_ERROR)/(0-176104+E_RECOVERABLE_ERROR*43));$bXmDHmJ=(0-163840+40*E_RECOVERABLE_ERROR);DB::beginTransaction();try{for($crbtyBv=(0-163840+40*E_RECOVERABLE_ERROR);$crbtyBv<=$YlXWuav;$crbtyBv++){$gAOOyGJ=date($GLOBALS[zAgUPHQ][00],strtotime($GLOBALS[zAgUPHQ][2] .$crbtyBv. $GLOBALS[zAgUPHQ][0x3],strtotime($NAugHfJ)));$rHVjeuQ=bc_mul($sUypDmv->amount,$sUypDmv->day_rate);$bXmDHmJ=bc_add($bXmDHmJ,$rHVjeuQ);LhDepositOrderLog::newLog($sUypDmv->bank_account_id,$sUypDmv->id,$rHVjeuQ,$gAOOyGJ);}$sUypDmv->total_interest+=$bXmDHmJ;$uyxrTHv=bc_mul($bXmDHmJ,0.8,(0-327672+E_RECOVERABLE_ERROR*80));$TCdgEXv=bc_mul($bXmDHmJ,0.2,(0-327672+E_RECOVERABLE_ERROR*80));LhBankAccount::where($GLOBALS[zAgUPHQ][4],$sUypDmv->bank_account_id)->increment($GLOBALS[zAgUPHQ][0x5],$bXmDHmJ);LhBankAccount::where($GLOBALS[zAgUPHQ][4],$sUypDmv->bank_account_id)->increment($GLOBALS[zAgUPHQ][0x6],$TCdgEXv);LhBankAccount::where($GLOBALS[zAgUPHQ][4],$sUypDmv->bank_account_id)->increment($GLOBALS[zAgUPHQ][0x7],$uyxrTHv);LhBankAccountLog::newLog($sUypDmv->bank_account_id,LhBankAccountLog::LOG_TYPE_USDT,$uyxrTHv,$GLOBALS[zAgUPHQ][010]);LhBankAccountLog::newLog($sUypDmv->bank_account_id,LhBankAccountLog::LOG_TYPE_DF,$TCdgEXv,$GLOBALS[zAgUPHQ][010]);$sUypDmv->last_settle_time=date($GLOBALS[zAgUPHQ][00]);if($sUypDmv->end_at==date($GLOBALS[zAgUPHQ][0x9])){LhBankAccount::where($GLOBALS[zAgUPHQ][4],$sUypDmv->bank_account_id)->increment($GLOBALS[zAgUPHQ][0x7],$sUypDmv->amount);LhBankAccountLog::newLog($sUypDmv->bank_account_id,LhBankAccountLog::LOG_TYPE_USDT,$sUypDmv->amount,$GLOBALS[zAgUPHQ][10]);$sUypDmv->status=(0-405502+E_RECOVERABLE_ERROR*99);}$sUypDmv->save();DB::commit();}catch(\Exception $kGiYzFQ){DB::rollBack();throw $kGiYzFQ;}}public static function getDayRate($level){switch($level){case (96*E_RECOVERABLE_ERROR-393215):return 0.003;break 1;case ((0-348160+E_RECOVERABLE_ERROR*85)-290814+E_RECOVERABLE_ERROR*71):return 0.004;break 1;case ((0-348160+E_RECOVERABLE_ERROR*85)-356349+87*E_RECOVERABLE_ERROR):return 0.005;break 1;case (95*E_RECOVERABLE_ERROR-389116):return 0.006;break 1;default:return (0-348160+E_RECOVERABLE_ERROR*85);}}}
?>